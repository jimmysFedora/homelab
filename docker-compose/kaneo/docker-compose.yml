services:
  postgres:
    image: postgres:16-alpine
    ports:
      - "5436:5432"
    volumes:
      - /mnt/docker-nfs/volumes/kaneo-data:/var/lib/postgresql/data
    restart: unless-stopped
    env_file:
      - stack.env

  api:
    image: ghcr.io/usekaneo/api:2.0.9@sha256:24f93081726327f59aeda6d7fe4975baec94fd7d35ab45b0efd17c13d6bbd8a1
    ports:
      - "1337:1337"
    restart: unless-stopped
    env_file:
      - stack.env

  web:
    image: ghcr.io/usekaneo/web:2.0.9@sha256:55d640e7c56759e0ce15665a6d0012deef48ff470b0d7699e6c2d0dd29e47531
    ports:
      - "5173:5173"
    restart: unless-stopped
    env_file:
      - stack.env